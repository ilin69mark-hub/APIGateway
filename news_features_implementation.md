# Реализация функций в системе новостей

## Поиск по названию новостей

Реализован в сервисе api-gateway в функции `newsHandler`:
- Принимает параметры `s` или `search` в URL-запросе
- Фильтрует новости по названию (поиск нечувствителен к регистру)
- Строки кода: 151-154 (получение параметров) и 174-182 (фильтрация)

Пример запроса: `GET /news?s=search_query` или `GET /news?search=search_query`

## Пагинация

Реализована в сервисе api-gateway в функции `newsHandler`:
- Принимает параметр `page` для указания номера страницы
- Возвращает структуру с пагинацией, включающую общее количество страниц
- Строки кода: 143-149 (обработка параметра page) и 184-198 (возврат структуры с пагинацией)

Пример запроса: `GET /news?page=1`

## Сквозной идентификатор (request_id)

Реализован в виде middleware `loggingMiddleware` во всех сервисах:
- Генерирует UUID при отсутствии заголовка X-Request-ID
- Передает request_id между сервисами при взаимодействии
- Строки кода в api-gateway: 48-78 (middleware), 85-90 (функция getRequestID)
- Также реализован в comment-service (строки 34-65) и censor-service (строки 20-51)

## Журнал запросов

Реализован в виде логирования в middleware во всех сервисах:
- Логирует начало и завершение запроса с метками времени
- Включает request_id, IP-адрес клиента, метод и путь запроса
- Строки кода в api-gateway: 58-63 (логирование запроса) и 71-77 (логирование ответа)
- Также реализован в comment-service (строки 44-49 и 58-64) и censor-service (строки 30-35 и 44-50)

## Архитектура системы

Система состоит из трех сервисов:
1. api-gateway (порт 8080) - маршрутизация запросов, реализует поиск и пагинацию
2. comment-service (порт 8081) - управление комментариями
3. censor-service (порт 8082) - проверка текста на запрещенные слова

Все сервисы поддерживают сквозной идентификатор и ведение журналов запросов.